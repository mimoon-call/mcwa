/* Table.module.css */
@keyframes skeletonOverlay {
    0% {
        background-position: -100% 0;
    }
    100% {
        background-position: 200% 0;
    }
}

.data-table {
    @apply h-full w-full flex flex-col justify-between overflow-hidden;

    div:has(table) {
        @apply overflow-y-auto;
    }

    table {
        @apply w-full flex-grow;

        thead {
            @apply border-b sticky z-10 border;
            top: -1px !important;

            tr {
                @apply bg-secondary font-medium select-none;
            }
        }

        tbody {
            tr {
                @apply border-b;
                
                td {
                    @apply px-1;
                }
            }
        }
    }
}

.data-table--actions {
    @apply flex gap-4 opacity-0 transition-opacity duration-300 max-w-fit;
    
    tr:hover,
    tr:focus & {
        @apply opacity-100;
    }
}

.data-table--loading {
    table {
        @apply opacity-50 pointer-events-none;

        thead {
            tr {
                position: relative;

                ::after {
                    content: '';
                    position: absolute;
                    bottom: 0;
                    left: 0;
                    width: 100%;
                    height: 0.125rem;
                    background-image: linear-gradient(100deg, var(--color-primary-bg) 2%, var(--color-primary) 44%, var(--color-primary-bg) 98%);
                    background-repeat: no-repeat;
                    background-size: 50% 100%;
                    background-position: 0 0;
                    animation: skeletonOverlay 2s linear infinite;
                }
            }
        }
    }
}

.pagination {
    @apply w-full flex justify-between items-center p-2 bg-secondary sticky bottom-0 z-10;

    .pagination-items {
        @apply flex-grow overflow-hidden select-none whitespace-nowrap text-center;

        div {
            @apply px-2 inline-block duration-300;

            span {
                @apply font-medium px-4 text-primary relative hover:font-bold duration-200;
            }

            span::after {
                content: '';
                position: absolute;
                bottom: -0.125rem;
                background-color: currentColor;
                border-radius: 2px;
                opacity: 0;
                height: 2px;
                width: 0;
                left: 50%;
                transform: translateX(-50%);
                transition: height 0.3s, width 0.3s, opacity 0.3s, transform 0.3s, left 0.3s;
                z-index: 1;
            }
        }

        .pagination-item--active {
            span {
                @apply text-primary font-bold;
            }

            span::after {
                width: 100%;
                left: 0;
                transform: translateX(0);
                opacity: 1;
                height: 3px;
            }
        }
    }

    button {
        @apply border-0 max-w-fit px-1;

        svg {
            @apply rtl:rotate-180;
        }
    }

    button:disabled {
        @apply opacity-50 cursor-not-allowed;
    }
}

.data-table--clickable {
    @apply cursor-pointer;
}

.data-table--clickable:focus {
    @apply box-content outline-none bg-primary bg-opacity-5;
}

.data-table--not-allowed {
    @apply cursor-not-allowed opacity-70;

    td {
        @apply pointer-events-none;
    }
}